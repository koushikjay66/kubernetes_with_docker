/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * user guide available at https://docs.gradle.org/5.0/userguide/java_library_plugin.html
 */

apply plugin: 'idea'
apply plugin: 'eclipse'
apply plugin: 'java'
apply plugin:'base'
apply plugin: 'war'
apply plugin: 'eclipse-wtp'

sourceCompatibility = '1.8'
targetCompatibility = '1.8'

def bin_name = 'image-service.war'


war {
    enabled=true
    archiveName bin_name
}

project.webAppDirName = 'WebContent'


buildscript {
    repositories {
        jcenter()
    }
}




repositories {
   mavenCentral()
}

dependencies {
    compile 'org.glassfish.jersey.core:jersey-server:2.28'

    compile 'org.glassfish.jersey.containers:jersey-container-servlet-core:2.28'
    compile 'org.glassfish.jersey.media:jersey-media-moxy:2.28'
	compile 'org.glassfish.jersey.inject:jersey-hk2:2.28'
    compile 'org.glassfish.jersey.core:jersey-client:2.28'
compile group: 'javax.ws.rs', name: 'javax.ws.rs-api', version: '2.0'
    
    
compile group: 'org.glassfish.main.core', name: 'glassfish', version: '5.0.1'
    compile 'se.michaelthelin.spotify:spotify-web-api-java:2.2.0'

    testCompile 'org.glassfish.jersey.test-framework.providers:jersey-test-framework-provider-inmemory:2.28'
}


task copyToBin(dependsOn: war) {

println('Copying war file into Docker directory')
    copy {
 
   from "$buildDir\\libs"
   into  "docker"
   include "*.war"
   }
}   